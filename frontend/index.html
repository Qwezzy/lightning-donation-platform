<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>LightningFund | Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <!-- QR Code Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="app.js" defer></script>
</head>

<body>

    <header class="navbar">
        <div class="logo">⚡ UbuntuChain</div>
        <nav class="nav-links">
            <a href="#" id="navDonate" class="active">Home</a>
            <a href="#" id="navSupport">Apply for Support</a>
            <a href="about.html">About</a>
            <a href="transparency.html">Transparency</a>
            <a href="gallery.html">Gallery</a>
            <a href="contact.html">Contact</a>
        </nav>
    </header>

    <header class="hero">
        <h1>Donate via Lightning</h1>
        <p>Fast, borderless, low-fee Bitcoin donations for courses that matter.</p>
    </header>

    <!-- Main Container -->
    <div class="container">

        <!-- Course Grid (Donate View) -->
        <div id="courseGridView" class="course-grid">
            <!-- Courses injected via JS -->
        </div>

        <!-- SUPPORT APPLICATION FLOW -->
        <div id="supportWrapper"
            style="display:none; max-width: 600px; margin: 0 auto; background: white; padding: 2rem; border-radius: 12px; box-shadow: var(--shadow-card);">
            <h2>Apply for Support</h2>
            <p style="margin-bottom: 1.5rem; color: #666;">Submit your application for priority-based funding</p>

            <div id="supportStep1">
                <p style="margin-bottom: 1.5rem;">We provide support for financial hardship, medical needs, and other
                    critical situations. Click below to start your application.</p>
                <button id="applyNowBtn" class="btn-primary" style="width: 100%;">Start Application</button>
            </div>

            <div id="supportStep2" style="display:none;">
                <form id="supportForm" style="display: flex; flex-direction: column; gap: 1rem;">
                    <label style="font-weight: 500;">Full Name *</label>
                    <input type="text" name="fullName" class="custom-amount-input" placeholder="Your full name" required
                        style="margin-bottom:0;">

                    <label style="font-weight: 500;">Type of Hardship *</label>
                    <select name="hardshipType" class="custom-amount-input" required style="margin-bottom:0;">
                        <option value="">Select hardship type</option>
                        <option value="Financial">Financial</option>
                        <option value="Medical">Medical</option>
                        <option value="Other">Other</option>
                    </select>

                    <label style="font-weight: 500;">Lightning Wallet Address *</label>
                    <input type="text" name="walletAddress" class="custom-amount-input"
                        placeholder="Your Lightning wallet address" required style="margin-bottom:0;">

                    <label style="font-weight: 500;">Description</label>
                    <textarea name="description" class="custom-amount-input"
                        placeholder="Briefly describe your situation..." rows="4"
                        style="margin-bottom:0; font-family: inherit;"></textarea>

                    <label style="font-weight: 500;">Supporting Documents</label>
                    <input type="file" name="supportDocs" class="custom-amount-input" multiple style="margin-bottom:0;">

                    <button type="submit" class="btn-primary" style="margin-top: 1rem;">Submit for Standard
                        Review</button>
                </form>
                <div id="supportSuccess" class="status-message status-success"
                    style="display:none; margin-top: 1rem; text-align: center;">
                    Your application has been submitted successfully,Thank You! ⚡
                </div>
            </div>
        </div>

    </div>

    <!-- Donation Modal -->
    <div class="modal-overlay" id="donationModal">
        <div class="donation-modal">
            <button class="close-modal" id="closeModal">&times;</button>

            <h2 id="modalTitle">Enter Amount</h2>
            <p style="color: #666; margin-bottom: 1rem;">Choose or enter an amount in satoshis</p>

            <!-- Donation Form inside Modal -->
            <div id="modalForm">
                <div class="amount-grid">
                    <button class="amount-btn" data-amount="1000">1,000</button>
                    <button class="amount-btn" data-amount="5000">5,000</button>
                    <button class="amount-btn" data-amount="10000">10,000</button>
                    <button class="amount-btn" data-amount="50000">50,000</button>
                </div>

                <input type="number" id="customAmount" class="custom-amount-input" placeholder="Custom amount (sats)">

                <button id="generateInvoiceBtn" class="btn-primary" style="width: 100%;">Generate Lightning
                    Invoice</button>
            </div>

            <!-- Status & Invoice View -->
            <div id="modalStatus" class="status-message" style="margin-top: 1rem;"></div>

            <div id="modalInvoice" class="invoice-section" style="display:none;">
                <canvas id="modalQrCode"></canvas>
                <div id="modalInvoiceText"
                    style="font-size: 0.8rem; word-break: break-all; padding: 0.5rem; margin-top: 0.5rem;">
                </div>
                <div style="margin-top: 1rem; font-size: 0.9rem; color: #4CAF50; display: none;" id="paymentSuccessMsg">
                    Payment Received!</div>
            </div>

        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <p>Powered by Bitcoin Lightning Network ⚡</p>
            <p>© 2026 Ubuntu Chain. All rights reserved.</p>
        </div>
    </footer>

</body>

</html>